<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3D Globe with Markers</title>
  <style>
    body { margin: 0; }
    #globeViz { width: 100%; height: 100vh; }
  </style>
  <script src="https://unpkg.com/globe.gl"></script>
</head>
<body>
  <div id="globeViz"></div>

  <script>
    // Create the globe instance
    const world = new Globe(document.getElementById('globeViz'), { animateIn: false })
      .globeImageUrl('')  // Set empty background for transparency
      .bumpImageUrl('');  // No bump image (remove texture effect)

    // Auto-rotate the globe
    world.controls().autoRotate = true;
    world.controls().autoRotateSpeed = 0.35;

    // Coordinates for markers (lat, lng)
    const locations = [
      { name: 'Thailand', lat: 15.87, lng: 100.99 },
      { name: 'Italy', lat: 41.87, lng: 12.56 },
      { name: 'Vietnam', lat: 14.06, lng: 108.22 },
      { name: 'Cambodia', lat: 12.56, lng: 104.99 },
      { name: 'Indonesia', lat: -0.79, lng: 113.92 },
      { name: 'Turkey', lat: 38.96, lng: 35.24 },
      { name: 'Malaysia', lat: 4.21, lng: 101.97 }
    ];

    // Add markers for each country to the globe
    world.objectsData(locations)
      .objectLat('lat')
      .objectLng('lng')
      .objectLabel('name')
      .objectRadius(0.1) // Adjust the size of the markers (0.1 is just an example)
      .objectColor('red'); // Set the marker color

    // Add a basic ambient light
    world.scene().add(new THREE.AmbientLight(0x404040, 1));  // Soft white light

    // Add clouds sphere (optional)
    const CLOUDS_IMG_URL = 'https://unpkg.com/three-globe/example/img/clouds.png';
    const CLOUDS_ALT = 0.004;
    const CLOUDS_ROTATION_SPEED = -0.006;

    new THREE.TextureLoader().load(CLOUDS_IMG_URL, cloudsTexture => {
      const clouds = new THREE.Mesh(
        new THREE.SphereGeometry(world.getGlobeRadius() * (1 + CLOUDS_ALT), 75, 75),
        new THREE.MeshPhongMaterial({ map: cloudsTexture, transparent: true })
      );
      world.scene().add(clouds);

      (function rotateClouds() {
        clouds.rotation.y += CLOUDS_ROTATION_SPEED * Math.PI / 180;
        requestAnimationFrame(rotateClouds);
      })();
    });
  </script>
</body>
</html>
